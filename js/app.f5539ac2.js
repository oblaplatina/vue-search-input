(function(){"use strict";var e={6002:function(e,t,r){var n=r(3751),a=r(641);function o(e,t,r,n,o,c){const s=(0,a.g2)("SearchBar"),u=(0,a.g2)("FilterBar"),i=(0,a.g2)("ProductList"),l=(0,a.g2)("ProductPagination");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(s,{onSearchInput:c.handleSearch},null,8,["onSearchInput"]),(0,a.bF)(u,{categories:o.categories,onCategorySelect:c.handleCategoryChange},null,8,["categories","onCategorySelect"]),(0,a.bF)(i,{products:c.paginatedProducts},null,8,["products"]),(0,a.bF)(l,{currentPage:o.currentPage,totalPages:c.totalPages,onPageChange:c.handlePageChange},null,8,["currentPage","totalPages","onPageChange"])])}r(8992),r(4520),r(1454);const c={class:"search-bar"};function s(e,t,r,o,s,u){return(0,a.uX)(),(0,a.CE)("div",c,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>u.onInput&&u.onInput(...e)),placeholder:"Search products"},null,544),[[n.Jo,s.searchQuery]])])}var u={name:"SearchBar",props:["onSearchInput"],data(){return{searchQuery:""}},methods:{onInput:i((function(){this.onSearchInput(this.searchQuery)}),500)}};function i(e,t){let r;return function(...n){clearTimeout(r),r=setTimeout((()=>e.apply(this,n)),t)}}var l=r(6262);const d=(0,l.A)(u,[["render",s],["__scopeId","data-v-15a26d60"]]);var g=d,h=r(33);const p={class:"filter-bar"},P=["value"];function f(e,t,r,o,c,s){return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.selectedCategory=e),onChange:t[1]||(t[1]=(...e)=>s.onCategoryChange&&s.onCategoryChange(...e))},[t[2]||(t[2]=(0,a.Lk)("option",{value:""},"All categories",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.categories,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.slug,value:e.slug},(0,h.v_)(e.name),9,P)))),128))],544),[[n.u1,c.selectedCategory]])])}var v={name:"FilterBar",props:["categories","onCategorySelect"],data(){return{selectedCategory:""}},methods:{onCategoryChange(){this.onCategorySelect(this.selectedCategory)}}};const C=(0,l.A)(v,[["render",f],["__scopeId","data-v-57d7dd2b"]]);var y=C;const m={class:"product-list"};function b(e,t,r,n,o,c){return(0,a.uX)(),(0,a.CE)("div",m,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.products,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"product-card"},[(0,a.Lk)("h3",null,(0,h.v_)(e.title),1),(0,a.Lk)("p",null,(0,h.v_)(e.description),1),(0,a.Lk)("p",null,"Price: $"+(0,h.v_)(e.price),1)])))),128))])}var k={name:"ProductList",props:["products"]};const I=(0,l.A)(k,[["render",b],["__scopeId","data-v-86986abe"]]);var L=I;const S={class:"pagination"},_=["disabled"],E=["disabled"];function O(e,t,r,n,o,c){return(0,a.uX)(),(0,a.CE)("div",S,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>c.prevPage&&c.prevPage(...e)),disabled:1===r.currentPage},"Назад",8,_),(0,a.Lk)("span",null,"Page "+(0,h.v_)(r.currentPage)+" of "+(0,h.v_)(r.totalPages),1),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>c.nextPage&&c.nextPage(...e)),disabled:r.currentPage===r.totalPages},"Вперед",8,E)])}var j={name:"ProductPagination",props:["currentPage","totalPages","onPageChange"],methods:{prevPage(){this.currentPage>1&&this.onPageChange(this.currentPage-1)},nextPage(){this.currentPage<this.totalPages&&this.onPageChange(this.currentPage+1)}}};const w=(0,l.A)(j,[["render",O],["__scopeId","data-v-73d89d40"]]);var F=w,x={components:{SearchBar:g,FilterBar:y,ProductList:L,ProductPagination:F},data(){return{products:[],categories:[],searchQuery:"",selectedCategory:"",currentPage:1,productsPerPage:8}},computed:{filteredProducts(){return this.products.filter((e=>{const t=e.title.toLowerCase().includes(this.searchQuery.toLowerCase()),r=!this.selectedCategory||e.category===this.selectedCategory;return t&&r}))},paginatedProducts(){const e=(this.currentPage-1)*this.productsPerPage,t=e+this.productsPerPage;return this.filteredProducts.slice(e,t)},totalPages(){return Math.ceil(this.filteredProducts.length/this.productsPerPage)}},mounted(){fetch("https://dummyjson.com/products").then((e=>e.json())).then((e=>{this.products=e.products})).catch((e=>{console.error("Ошибка загрузки продуктов:",e)})),fetch("https://dummyjson.com/products/categories").then((e=>e.json())).then((e=>{console.log("Категории из API:",e),this.categories=e.map((e=>({name:e.name,slug:e.slug})))})).catch((e=>{console.error("Ошибка загрузки категорий:",e)}))},methods:{handleSearch(e){this.searchQuery=e,this.currentPage=1},handleCategoryChange(e){this.selectedCategory=e,this.currentPage=1},handlePageChange(e){this.currentPage=e}}};const X=(0,l.A)(x,[["render",o]]);var A=X;(0,n.Ef)(A).mount("#app")}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,n,a,o){if(!n){var c=1/0;for(l=0;l<e.length;l++){n=e[l][0],a=e[l][1],o=e[l][2];for(var s=!0,u=0;u<n.length;u++)(!1&o||c>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[u])}))?n.splice(u--,1):(s=!1,o<c&&(c=o));if(s){e.splice(l--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,a,o]}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,c=n[0],s=n[1],u=n[2],i=0;if(c.some((function(t){return 0!==e[t]}))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(u)var l=u(r)}for(t&&t(n);i<c.length;i++)o=c[i],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(l)},n=self["webpackChunkapitask"]=self["webpackChunkapitask"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(6002)}));n=r.O(n)})();
//# sourceMappingURL=app.f5539ac2.js.map